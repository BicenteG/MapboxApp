{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Bicente/Documents/GitHub/PROYECTOS/MapboxApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nexport class PlacesService {\n  get isUserLocationReady() {\n    return !!this.userLocation;\n  }\n  constructor() {\n    this.getUserLocation();\n  }\n  getUserLocation() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return new Promise((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(({\n          coords\n        }) => {\n          _this.userLocation = [coords.longitude, coords.latitude];\n          resolve(_this.userLocation);\n        }, err => {\n          alert('No se pudo obtener la geolocalización');\n          console.log(err);\n          reject();\n        });\n      });\n    })();\n  }\n}\nPlacesService.ɵfac = function PlacesService_Factory(t) {\n  return new (t || PlacesService)();\n};\nPlacesService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: PlacesService,\n  factory: PlacesService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;AAKA,OAAM,MAAOA,aAAa;EAIxB,IAAIC,mBAAmB;IACpB,OAAO,CAAC,CAAC,IAAI,CAACC,YAAY;EAC7B;EAEAC;IACE,IAAI,CAACC,eAAe,EAAE;EACvB;EAEYA,eAAe;IAAA;IAAA;MAC1B,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;QACrCC,SAAS,CAACC,WAAW,CAACC,kBAAkB,CACtC,CAAC;UAAEC;QAAM,CAAE,KAAI;UACb,KAAI,CAACT,YAAY,GAAG,CAACS,MAAM,CAACC,SAAS,EAAED,MAAM,CAACE,QAAQ,CAAC;UACvDP,OAAO,CAAC,KAAI,CAACJ,YAAY,CAAC;QAC5B,CAAC,EACAY,GAAG,IAAI;UACNC,KAAK,CAAC,uCAAuC,CAAC;UAC9CC,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;UAChBP,MAAM,EAAE;QACV,CAAC,CACF;MACH,CAAC,CAAC;IAAA;EACJ;;AA1BWP,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;SAAbA,aAAa;EAAAkB,SAAblB,aAAa;EAAAmB,YAFZ;AAAM","names":["PlacesService","isUserLocationReady","userLocation","constructor","getUserLocation","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","coords","longitude","latitude","err","alert","console","log","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Bicente\\Documents\\GitHub\\PROYECTOS\\MapboxApp\\src\\app\\maps\\services\\places.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlacesService {\n\n  public userLocation: [number,number] | undefined;\n\n  get isUserLocationReady(): boolean {\n     return !!this.userLocation;\n  }\n\n  constructor() {\n    this.getUserLocation();\n   }\n\n  public async getUserLocation(): Promise<[number, number]>{\n    return new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(\n        ({ coords }) =>{ \n          this.userLocation = [coords.longitude, coords.latitude];\n          resolve(this.userLocation);\n        },\n        (err) => {\n          alert('No se pudo obtener la geolocalización');\n          console.log(err);\n          reject();\n        }\n      )\n    })\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}